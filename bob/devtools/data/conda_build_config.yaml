c_compiler:
  - clang                      # [osx]
cxx_compiler:
  - clangxx                    # [osx]
fortran_compiler_version:
# matrix on linux, because the ABI breaks at GCC 8
  - 7.3.0                      # [linux]
  - 8.2.0                      # [linux]
rust_compiler:
  - rust
rust_compiler_version:
  - 1.40.0

c_compiler_version:        # [linux or osx]
  - 7.3.0                  # [linux]
  - 10                     # [osx]
cxx_compiler_version:      # [linux or osx]
  - 7.3.0                  # [linux]
  - 10                     # [osx]
fortran_compiler_version:  # [linux]
  - 7.3.0                  # [linux]
clang_variant:
  - clang

macos_min_version:
  - 10.9
macos_machine:
  - x86_64-apple-darwin13.4.0
MACOSX_DEPLOYMENT_TARGET:
  - 10.9
CONDA_BUILD_SYSROOT:            # [osx]
  - /opt/MacOSX10.10.sdk        # [osx]
# This helps CMAKE find the sysroot. See
# https://cmake.org/cmake/help/v3.11/variable/CMAKE_OSX_SYSROOT.html
SDKROOT:                        # [osx]
  - /opt/MacOSX10.10.sdk        # [osx]
# makes autotools verbose
VERBOSE_AT:
  - V=1
# makes cmake verbose
VERBOSE_CM:
  - VERBOSE=1

# the blas implementations that we build against
blas_impl:
  - mkl

pin_run_as_build:
  libboost:
    max_pin: x.x.x
  py_boost:
    max_pin: x.x.x
  boost:
    max_pin: x.x.x

## the dependencies that we build against multiple versions
python:
  - 3.6
  - 3.7
  - 3.8

zip_keys:
  -                             # [win]
    - vc                        # [win]
    - c_compiler                # [win]
    - cxx_compiler              # [win]
    - fortran_compiler_version  # [win]
    - python                    # [win]
    - nodejs                    # [win]
    - geos                      # [win]


# Here is the version of dependencies are used when building packages (build
# and host requirements). We keep a list of **all of them** here to make sure
# everything goes as expected in our conda build process. For the version of
# packages that are used for testing packages, see the recipe of bob-devel.
# The version here do not necessarily match the versions in bob-devel.

# This version of bob-devel will be used at test time of packages:
bob_devel:
  - 2020.11.04

# This version of beat-devel will be used at test time of packages. Notice it
# uses bob-devel and should have a version that is greater or equal its value
beat_devel:
  - 2020.11.04

# The build time only dependencies (build requirements).
# Updating these to the latest version all the time is OK and a good idea.
# These versions should match the versions inside bob-devel as well (if they
# overlap) so update them in both places.
cmake:
  - 3.14.0
pkg_config:
  - 0.29.2

# The dependencies that we link against (host requirements).
# Ideally we want to build against the oldest possible version of packages when
# we are linking against them. It is best to keep this in sync with:
# https://github.com/AnacondaRecipes/aggregate/blob/master/conda_build_config.yaml
boost:
  - 1.73.0
ffmpeg:
  - 4.2.2
freetype:
  - 2.9.1
giflib:
  - 5.1.4
hdf5:
  - 1.10.6
jpeg:
  - 9b
libblitz:
  - 1.0.1
libpng:
  - 1.6.35
libsvm:
  - 3.24
libtiff:
  - 4.1.0
mkl:
  - 2019
numpy:
  - 1.16.6
pybind11:
  - 2.4.3
sox:
  - 14.4.2
vlfeat:
  - 0.9.21

# The dependencies that are needed for runtime only (run requirements). These versions
# **should** match the versions inside bob-devel recipe. In fact, you can copy the
# bob-devel pins here and remove the ones that are already in the "build" requirements,
# above (like numpy, boost). You should also replace dots and dashes with underlines.
click:
  - 7.1.2
click_plugins:
  - 1.1.1
coverage:
  - 5.3
dask:
  - 2.30.0
dask_jobqueue:
  - 0.7.0
dask_ml:
  - 1.7.0
distributed:
  - 2.30.0
docker_py:
  - 4.3.1
docopt:
  - 0.6.2
h5py:
  - 2.10.0
jinja2:
  - 2.11.2
jsonschema:
  - 3.2.0
matplotlib:
  - 3.3.2
ncurses:
  - 6.2
nose:
  - 1.3.7
pandas:
  - 1.1.3
pillow:
  - 8.0.1
psycopg2:
  - 2.8.5
python_graphviz:
  - 0.14.2
pytorch:
  - 1.7.0
pyyaml:
  - 5.3.1
pyzmq:
  - 19.0.2
requests:
  - 2.24.0
schema:
  - 0.7.2
scikit_image:
  - 0.17.2
scikit_learn:
  - 0.23.2
scipy:
  - 1.5.2
setuptools:
  - 50.3.0
simplejson:
  - 3.17.2
sphinx:
  - 3.2.1
sphinx_rtd_theme:
  - 0.4.3
sphinxcontrib_httpdomain:
  - 1.7.0
sphinxcontrib_programoutput:
  - 0.16
sqlalchemy:
  - 1.3.20
tabulate:
  - 0.8.7
tensorflow:
  - 2.2.0
termcolor:
  - 1.1.0
torchvision:
  - 0.8.1
tqdm:
  - 4.50.2
xarray:
  - 0.16.1
zc_buildout:
  - 2.13.3
zc_recipe_egg:
  - 2.0.7
